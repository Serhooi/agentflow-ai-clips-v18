# AgentFlow AI Clips v18.6.0

–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ—Ä–æ—Ç–∫–∏—Ö –∫–ª–∏–ø–æ–≤ —Å —Å—É–±—Ç–∏—Ç—Ä–∞–º–∏.

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### üé¨ –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Ä–µ–∑–∫–∞ –≤–∏–¥–µ–æ** –Ω–∞ —Ö–∞–π–ª–∞–π—Ç—ã
- ‚úÖ **Whisper —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è** —Å word-level —Ç–∞–π–º–∏–Ω–≥–∞–º–∏
- ‚úÖ **ChatGPT –∞–Ω–∞–ª–∏–∑** –¥–ª—è –ø–æ–∏—Å–∫–∞ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã—Ö –º–æ–º–µ–Ω—Ç–æ–≤
- ‚úÖ **–°—É–±—Ç–∏—Ç—Ä—ã —Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–µ–π** –ø–æ —Å–ª–æ–≤–∞–º
- ‚úÖ **4 —Å—Ç–∏–ª—è —Å—É–±—Ç–∏—Ç—Ä–æ–≤:** Modern, Neon, Fire, Elegant

### üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- ‚úÖ **FastAPI backend** —Å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–æ–π
- ‚úÖ **FFmpeg –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤–∏–¥–µ–æ
- ‚úÖ **4 —Ñ–æ—Ä–º–∞—Ç–∞ –æ–±—Ä–µ–∑–∫–∏:** 9:16, 16:9, 1:1, 4:5
- ‚úÖ **–£–º–Ω–∞—è –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞** —Å–ª–æ–≤ –≤ —Å—É–±—Ç–∏—Ç—Ä—ã
- ‚úÖ **Fallback —Å–∏—Å—Ç–µ–º–∞** –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
- ‚úÖ **Supabase Storage** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### üìä –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- ‚úÖ **Chunked —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏—è** –¥–ª—è –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤
- ‚úÖ **JSON –≤–∞–ª–∏–¥–∞—Ü–∏—è** —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- ‚úÖ **Real-time –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞** —Å—Ç–∞—Ä—ã—Ö —Ñ–∞–π–ª–æ–≤

## üõ†Ô∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
git clone https://github.com/Serhooi/agentflow-ai-clips-v18.git
cd agentflow-ai-clips-v18

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pip install -r requirements.txt

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (Ubuntu/Debian)
sudo apt-get update
sudo apt-get install ffmpeg libass-dev

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
export OPENAI_API_KEY="your-openai-api-key"

# –ó–∞–ø—É—Å–∫
python app.py
```

### Docker

```bash
# –°–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞
docker build -t agentflow-ai-clips .

# –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
docker run -p 8000:8000 -e OPENAI_API_KEY="your-key" agentflow-ai-clips
```

## üåê –î–µ–ø–ª–æ–π –Ω–∞ Render.com

### –ë—ã—Å—Ç—Ä—ã–π –¥–µ–ø–ª–æ–π (1 –∫–ª–∏–∫)

[![Deploy to Render](https://render.com/images/deploy-to-render-button.svg)](https://render.com/deploy)

### –†—É—á–Ω–æ–π –¥–µ–ø–ª–æ–π

#### 1. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

1. –í–æ–π–¥–∏—Ç–µ –≤ [Render Dashboard](https://dashboard.render.com)
2. –ù–∞–∂–º–∏—Ç–µ **"New +"** ‚Üí **"Web Service"**
3. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ —ç—Ç–æ—Ç GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

#### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ä–≤–∏—Å–∞

**Build & Deploy:**
- **Environment:** `Python 3`
- **Build Command:** `pip install -r requirements.txt`
- **Start Command:** `python app.py`

**Environment Variables:**
```
OPENAI_API_KEY=your-openai-api-key-here
PORT=8000
```

**–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ (–¥–ª—è –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è):**
```
REDIS_URL=redis://your-redis-url:6379
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key
```

#### 3. Advanced Settings

- **Instance Type:** `Starter` (512MB RAM, $7/–º–µ—Å—è—Ü)
- **Auto-Deploy:** `Yes` (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π –ø—Ä–∏ push –≤ GitHub)

### –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–æ 100+ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

#### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ Redis (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
1. **New** ‚Üí **Redis** ‚Üí **Starter** ($7/–º–µ—Å—è—Ü)
2. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å `REDIS_URL` –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ Web Service
3. –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—Å—è –Ω–∞ –æ—á–µ—Ä–µ–¥—å –∑–∞–¥–∞—á

#### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ Background Workers (–¥–ª—è –≤—ã—Å–æ–∫–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏)
1. **New** ‚Üí **Background Worker**
2. **Build Command:** `pip install -r requirements.txt`
3. **Start Command:** `python worker.py`
4. **Environment Variables:** —Ç–µ –∂–µ + `WORKER_ID=worker-1`

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** 1 –≤–æ—Ä–∫–µ—Ä = +20-30 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

## üì° API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –û—Å–Ω–æ–≤–Ω—ã–µ endpoints

#### 1. –ó–∞–≥—Ä—É–∑–∫–∞ –≤–∏–¥–µ–æ
```http
POST /api/videos/upload
Content-Type: multipart/form-data

file: video.mp4
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "video_id": "uuid",
  "filename": "video.mp4",
  "duration": 60.5,
  "size": 15728640,
  "status": "uploaded"
}
```

#### 2. –ê–Ω–∞–ª–∏–∑ –≤–∏–¥–µ–æ
```http
POST /api/videos/analyze
Content-Type: application/json

{
  "video_id": "uuid"
}
```

#### 3. –°—Ç–∞—Ç—É—Å –∞–Ω–∞–ª–∏–∑–∞
```http
GET /api/videos/{video_id}/status
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "video_id": "uuid",
  "status": "completed",
  "highlights": [
    {
      "start_time": 0,
      "end_time": 20,
      "title": "–ó–∞–≥–æ–ª–æ–≤–æ–∫ –∫–ª–∏–ø–∞",
      "description": "–û–ø–∏—Å–∞–Ω–∏–µ",
      "keywords": ["–∫–ª—é—á–µ–≤—ã–µ", "—Å–ª–æ–≤–∞"]
    }
  ]
}
```

#### 4. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–ª–∏–ø–æ–≤
```http
POST /api/clips/generate
Content-Type: application/json

{
  "video_id": "uuid",
  "format_id": "9:16",
  "style_id": "modern"
}
```

#### 5. –°—Ç–∞—Ç—É—Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
```http
GET /api/clips/generation/{task_id}/status
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "task_id": "uuid",
  "status": "completed",
  "progress": 100,
  "current_stage": "completed",
  "clips": [
    {
      "id": "clip_1",
      "title": "–ö–ª–∏–ø 1",
      "download_url": "/api/clips/download/clip_1.mp4",
      "duration": 20,
      "words_count": 45
    }
  ]
}
```

#### 6. –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –∫–ª–∏–ø–∞
```http
GET /api/clips/download/{filename}
```

### –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ endpoints

#### –§–æ—Ä–º–∞—Ç—ã
```http
GET /api/formats
```

#### –°—Ç–∏–ª–∏
```http
GET /api/styles
```

#### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–∏—Å—Ç–µ–º—ã
```http
GET /api/stats
```

#### Health check
```http
GET /health
```

## üé® –î–æ—Å—Ç—É–ø–Ω—ã–µ —Å—Ç–∏–ª–∏ —Å—É–±—Ç–∏—Ç—Ä–æ–≤

### Modern
- **–®—Ä–∏—Ñ—Ç:** Montserrat
- **–¶–≤–µ—Ç–∞:** –ë–µ–ª—ã–π —Ç–µ–∫—Å—Ç + –∑–µ–ª–µ–Ω–∞—è –ø–æ–¥—Å–≤–µ—Ç–∫–∞
- **–≠—Ñ—Ñ–µ–∫—Ç—ã:** –¢–æ–Ω–∫–∞—è –æ–±–≤–æ–¥–∫–∞

### Neon
- **–®—Ä–∏—Ñ—Ç:** Arial
- **–¶–≤–µ—Ç–∞:** –ë–µ–ª—ã–π —Ç–µ–∫—Å—Ç + —Ä–æ–∑–æ–≤–∞—è –ø–æ–¥—Å–≤–µ—Ç–∫–∞
- **–≠—Ñ—Ñ–µ–∫—Ç—ã:** –Ø—Ä–∫–∞—è –æ–±–≤–æ–¥–∫–∞

### Fire
- **–®—Ä–∏—Ñ—Ç:** Impact
- **–¶–≤–µ—Ç–∞:** –ë–µ–ª—ã–π —Ç–µ–∫—Å—Ç + –æ—Ä–∞–Ω–∂–µ–≤–∞—è –ø–æ–¥—Å–≤–µ—Ç–∫–∞
- **–≠—Ñ—Ñ–µ–∫—Ç—ã:** –¢–µ–Ω—å + –æ–±–≤–æ–¥–∫–∞

### Elegant
- **–®—Ä–∏—Ñ—Ç:** Georgia
- **–¶–≤–µ—Ç–∞:** –ë–µ–ª—ã–π —Ç–µ–∫—Å—Ç + –∂–µ–ª—Ç–∞—è –ø–æ–¥—Å–≤–µ—Ç–∫–∞
- **–≠—Ñ—Ñ–µ–∫—Ç—ã:** –ö—É—Ä—Å–∏–≤ + —Ç–µ–Ω—å

## üì± –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã

- **9:16** - –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–π (Instagram Stories, TikTok)
- **16:9** - –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π (YouTube, Facebook)
- **1:1** - –ö–≤–∞–¥—Ä–∞—Ç–Ω—ã–π (Instagram Posts)
- **4:5** - –ü–æ—Ä—Ç—Ä–µ—Ç–Ω—ã–π (Instagram Feed)

## üîß –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

### –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ (–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –¥–ª—è 512MB RAM)
- **CPU:** 1 core
- **RAM:** 512MB (–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ!)
- **–î–∏—Å–∫:** 2GB —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞
- **FFmpeg** —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π libass

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ
- **CPU:** 2+ cores
- **RAM:** 1GB+
- **–î–∏—Å–∫:** 10GB+ SSD

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –¥–ª—è 512MB RAM
- **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞:** 100MB (–≤–º–µ—Å—Ç–æ 500MB)
- **–ú–∞–∫—Å–∏–º—É–º –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á:** 2
- **–ê–≤—Ç–æ–æ—á–∏—Å—Ç–∫–∞:** –∫–∞–∂–¥—ã–µ 10 –º–∏–Ω—É—Ç
- **–õ–∏–º–∏—Ç –ø–∞–º—è—Ç–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞:** 400MB
- **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ FFmpeg –∫–æ–º–∞–Ω–¥—ã** —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ–º –ø–∞–º—è—Ç–∏

## üêõ Troubleshooting

### –û—à–∏–±–∫–∏ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏–∏
```
timestamp_granularities not supported
```
**–†–µ—à–µ–Ω–∏–µ:** –û–±–Ω–æ–≤–∏—Ç–µ OpenAI API –¥–æ –ø–æ—Å–ª–µ–¥–Ω–µ–π –≤–µ—Ä—Å–∏–∏ –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ fallback —Ä–µ–∂–∏–º.

### –û—à–∏–±–∫–∏ –∫–æ–¥–∏—Ä–æ–≤–∫–∏
```
UnicodeDecodeError
```
**–†–µ—à–µ–Ω–∏–µ:** –í—Å–µ —Ñ–∞–π–ª–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç UTF-8 —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫.

### –í—ã—Å–æ–∫–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞
```
CPU/RAM usage > 80%
```
**–†–µ—à–µ–Ω–∏–µ:** –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫—É –ø—Ä–∏ –≤—ã—Å–æ–∫–æ–π –Ω–∞–≥—Ä—É–∑–∫–µ.

## üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

–°–∏—Å—Ç–µ–º–∞ –≤–∫–ª—é—á–∞–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:
- **CPU/RAM usage** - –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É
- **–ê–≤—Ç–æ–æ—á–∏—Å—Ç–∫–∞** —Å—Ç–∞—Ä—ã—Ö —Ñ–∞–π–ª–æ–≤ - –∫–∞–∂–¥—ã–π —á–∞—Å
- **Health checks** - –¥–æ—Å—Ç—É–ø–Ω—ã —á–µ—Ä–µ–∑ `/health`

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- **CORS** –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è –≤—Å–µ—Ö –¥–æ–º–µ–Ω–æ–≤ (–Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –¥–ª—è production)
- **–õ–∏–º–∏—Ç—ã —Ä–∞–∑–º–µ—Ä–∞** —Ñ–∞–π–ª–æ–≤ (500MB)
- **–ê–≤—Ç–æ–æ—á–∏—Å—Ç–∫–∞** –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
- **–í–∞–ª–∏–¥–∞—Ü–∏—è** –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–∏—Å–∞
2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
4. –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫—É

---

**AgentFlow AI Clips v18.6.0** - –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–ª–∏–ø–æ–≤ —Å —Å—É–±—Ç–∏—Ç—Ä–∞–º–∏! üé¨‚ú®

